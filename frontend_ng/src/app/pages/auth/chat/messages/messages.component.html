      <div  class="messages">
        <div 
          *ngFor="let message of messages" 
          class="message-wrapper"
          [class.user-message]="message.type === 'user'"
          [class.api-message]="message.type === 'api'">
          
          <div class="message-bubble">
            <div class="message-content">{{ message.content }}</div>
            <div class="message-time">{{ (message.timestamp) | formatMessageTime }}</div>
          </div>
        </div>

        <!-- Loading indicator -->
        <div *ngIf="isLoading" class="message-wrapper api-message">
          <div class="message-bubble loading">
            <p-progressSpinner 
              [style]="{'width': '20px', 'height': '20px'}" 
              strokeWidth="8">
            </p-progressSpinner>
            <span class="loading-text">Thinking...</span>
          </div>
        </div>
      </div>